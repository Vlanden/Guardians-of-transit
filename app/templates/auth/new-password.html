{% extends "base.html" %}

{% block content %}
<main class="w-100 container">
    <div class="row align-items-stretch">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h3 class="text-center">Restablecer Contraseña</h3>
                </div>
                <div class="card-body">
                    <form method="POST" action="{{ url_for('auth_web.new_password', token=token) }}">
                        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                        <div class="mb-3">
                            <label for="password" class="form-label">Nueva contraseña</label>
                            <input type="password" class="form-control" id="password" name="password" required>
                        </div>
                        <div class="mb-3">
                            <label for="confirm_password" class="form-label">Confirmar nueva contraseña</label>
                            <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">Restablecer contraseña</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Comentario sobre la funcionalidad: 
    En esta página, cuando el usuario hace clic en el enlace de restablecimiento de contraseña que se le envió
    por correo, se muestra un formulario para que ingrese su nueva contraseña. Este formulario solo se valida
    si el token proporcionado en la URL es correcto y no ha expirado.
    El flujo de validación del token y la verificación de las contraseñas se maneja en el backend.
    
    Es importante que se implementen controles para que las contraseñas coincidan y tengan la longitud mínima
    que sea adecuada para la seguridad. Además, el token en la URL es necesario para confirmar que el usuario
    tiene acceso al cambio de su contraseña.
-->
{% endblock %}
